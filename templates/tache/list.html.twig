{% extends 'base-back.html.twig' %}

{% block title %}Liste des Tâches{% endblock %}

{% block TacheNavState %}
<a class="nav-link" data-bs-target="#GestionTache-nav" data-bs-toggle="collapse" href="#" aria-expanded="true">
    {% endblock %}

    {% block TacheContentState %}
    <ul id="GestionTache-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
        {% endblock %}

{% block ListeTacheNav %}
    <a href="{{ path('tache_list') }}" class="active">
        <i class="bi bi-circle"></i><span>Liste Tache</span>
    </a>
{% endblock %}

{% block body %}

    <table class=" table table-hover ">
        <thead>
        <tr class="table-primary">
            <th scope="col">Titre</th>
            <th scope="col">Date Fin</th>
            <th scope="col">Etat</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for tache in l %}
            <tr>
                <td>{{ tache.getTitreT() }}</td>
                <td>{{ tache.getDateFT()|date('d-m-Y') }}</td>
                <td>{{ tache.getEtatT() }}</td>
                <td>
                    <div class="btn-group" role="group" aria-label="Actions">
                        <button onclick="location.href='{{ path('tache_detail', {'i': tache.getIdT()}) }}'" type="button" class="btn btn-outline-primary"><i class="bi bi-info-circle"></i></button>
                        <button onclick="location.href='{{ path('tache_update', {'i': tache.getIdT()}) }}'" type="button" class="btn btn-outline-primary"><i class="bi bi-pencil"></i></button>
                        <button onclick="location.href='{{ path('tache_delete', {'i': tache.getIdT()}) }}'" type="button" class="btn btn-danger"><i class="bi bi-trash"></i></button>
                    </div>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <button onclick="location.href='{{ path('tache_add') }}'" class="btn btn-outline-primary"><i class="bi bi-plus"></i> Ajouter Tâche</button>
{% endblock %}
