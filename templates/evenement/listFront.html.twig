{% extends 'base-front.html.twig' %}

{% block title %}Liste des Événements{% endblock %}

{% block barreTitre %}
    <li><a href="{{ path('app_main_front') }}">Home</a></li>
    <li><a href="about.html">Actualite</a></li>
    <li><a href="services.html">Reclamation</a></li>
    <li><a href="{{ path('evenement_listFront') }}" class="active">Evenement</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="contact.html">About Us</a></li>
{% endblock %}

{% block body %}
    <br>
    <h1 class="card-title" style="text-align: center; font-size: 2em;">La liste des événements</h1>
    <br>

    <div class="col-10 mx-auto"> <!-- Adjusted column width -->
        <div class="card">
            <div class="card-body">
                {% block evenement_list %}
                    {% for evenement in evenements %}
                        <div class="row">
                            <div class="col-md-5"> <!-- Adjusted column width -->
                                <div class="d-flex flex-column">
                                    {% block evenement_image %}
                                        {% if evenement.getImageEvent() %}
                                            {% set fileExtension = evenement.getImageEvent()|split('.')|last %}
                                            {% if fileExtension in ['jpg', 'jpeg', 'png', 'gif'] %}
                                                <img src="{{ asset('uploads/' ~ evenement.getImageEvent()) }}" class="img-thumbnail" alt="Image" style="width: 100%; max-width: 400px;"> <!-- Adjusted max-width -->
                                            {% elseif fileExtension == 'pdf' %}
                                                <a href="{{ asset('uploads/' ~ evenement.getImageEvent()) }}">View PDF</a>
                                            {% endif %}
                                        {% endif %}
                                    {% endblock %}
                                </div>
                            </div>
                            <div class="col-md-7"> <!-- Adjusted column width -->
                                <h4 class="card-title" style="font-size: 1.5rem; margin-bottom: 10px;">{{ evenement.getNomE() }}</h4>
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button onclick="location.href='{{ path('details_evenementFront', {'id': evenement.getId()}) }}'" type="button" class="btn btn-outline-primary"><i class="bi bi-info-circle"></i> Détails</button>
                                    <button onclick="location.href='{{ path('modifierFront_evenement', {'id': evenement.getId()}) }}'" type="button" class="btn btn-outline-primary"><i class="bi bi-pencil"></i> Modifier</button>
                                    <button onclick="location.href='{{ path('supprimerFront_evenement', {'id': evenement.getId()}) }}'" type="button" class="btn btn-outline-danger"><i class="bi bi-trash"></i> Supprimer</button>
                                </div>
                            </div>
                        </div>
                        <hr> <!-- Horizontal line between event items -->
                    {% endfor %}
                {% endblock %}
            </div>
        </div>
    </div>
    <!-- Bouton pour ajouter un nouvel événement -->
    <button onclick="location.href='{{ path('ajouterFront_evenement') }}'" class="btn btn-outline-primary"><i class="bi bi-plus"></i> Ajouter Événement</button>		

    {% block ListeTalacheNav %}
        <!-- Additional navigation elements if needed -->
    {% endblock %}

{% endblock %}
{%block rest%}{% endblock %}
