{% extends 'base-front.html.twig' %}

{% block title %}Liste des Événements{% endblock %}

{% block barreTitre %}
    <li><a href="{{ path('app_main_front') }}">Home</a></li>
    <li><a href="about.html">Actualite</a></li>
    <li class="dropdown">
        <a href="#">
            <span>Evenement</span>
            <i class="bi bi-chevron-down dropdown-indicator active"></i>
            <ul>
                <li><a href="{{ path('ajouterFront_evenement') }}">Ajouter Evenement</a></li>
                <li><a href="{{ path('evenement_listFront') }}">Mes Evenements</a></li>
                <li><a href="{{ path('ajouter_voteFront') }}">Ajouter propositions</a></li>
            </ul>
        </a>
    
    </li>
    <li><a href="pricing.html">Reclamation</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="contact.html">About Us</a></li>
{% endblock %}

{% block body %}
    <div class="breadcrumbs">
        <div class="page-header d-flex align-items-center" style="background-image: url('{{ asset('images/1698797913755.jfif') }}');">
            <div class="container position-relative">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-6 text-center">
                        <h2>Evenements</h2>
                        <p>Liste des événements disponibles.</p>
                    </div>
                </div>
            </div>
        </div>
        <nav>
            <div class="container">
                <ol>
                    <li><a href="{{path('app_main_front')}}">Home</a></li>
                    <li>Evenements</li>
                </ol>
            </div>
        </nav>
    </div>

    <!-- Event cards section -->
    <section id="service" class="services pt-0">
        <div class="container aos-init aos-animate" data-aos="fade-up">
            <div class="row gy-4">
                {% if evenements is not empty %}
                    {% for evenement in evenements %}
                        <div class="col-lg-4 col-md-6 aos-init aos-animate" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                            <div class="card" style="width: 100%; height: 300px; border-radius: 5px;">
                                <div class="card-img">
                                    {% block evenement_image %}
                                        {% if evenement.getImageEvent() %}
                                            <img src="{{ asset('uploads/' ~ evenement.getImageEvent()) }}" alt="" class="img-fluid card-img-top" style="width: 100%; height: 100%; object-fit: cover;">
                                        {% endif %}
                                    {% endblock %}
                                </div>
                                <div class="card-body">
                                    <div class="text-center mb-3">
                                        <h3 class="card-title">{{ evenement.getNomE() }}</h3>
                                    </div>
                                    <div class="d-flex justify-content-around">
                                        <a href="{{ path('details_evenementFront', { id: evenement.getId() }) }}">
                                            <img src="{{ asset('images/detail.png') }}" width="40" height="35">
                                        </a>
                                        <a href="{{ path('modifierFront_evenement', { id: evenement.getId() }) }}">
                                            <img src="{{ asset('images/editer.png') }}" width="35" height="35">
                                        </a>
                                        <a href="{{ path('supprimerFront_evenement', { id: evenement.getId() }) }}">
                                            <img src="{{ asset('images/delete.png') }}" width="35" height="35">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="col-12 text-center">
                        <p>Aucun événement trouvé.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Pagination -->
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item {% if evenements.currentPageNumber == 1 %}disabled{% endif %}">
                <a class="page-link" href="{{ path('evenement_listFront', {'page': 1}) }}" aria-label="Previous">
                    <span aria-hidden="true">«</span>
                </a>
            </li>
            {% for page in 1..evenements.pageCount %}
                <li class="page-item {% if page == evenements.currentPageNumber %}active{% endif %}">
                    <a class="page-link" href="{{ path('evenement_listFront', {'page': page}) }}">{{ page }}</a>
                </li>
            {% endfor %}
            <li class="page-item {% if evenements.currentPageNumber == evenements.pageCount %}disabled{% endif %}">
                <a class="page-link" href="{{ path('evenement_listFront', {'page': evenements.pageCount}) }}" aria-label="Next">
                    <span aria-hidden="true">»</span>
                </a>
            </li>
        </ul>
    </nav>

    <section id="call-to-action">
        <div class="container aos-init aos-animate" data-aos="zoom-out">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h3>Contactez-nous pour plus d'informations</h3>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block rest %}{% endblock %}
