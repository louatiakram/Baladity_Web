{% extends 'base-front.html.twig' %}

{% block title %}Baladity Home{% endblock %}

{% block barreTitre %}
					<li><a href="{{ path('app_main_front') }}">Home</a></li>
					<li><a href="about.html">Actualite</a></li>
          <li class="dropdown"><a href="#" class="active"><span>Reclamation</span> <i
						class="bi bi-chevron-down dropdown-indicator" class="active"></i></a>
						<ul>
							<li><a href="{{ path('typeReclamationF') }}">Ajouter Réclamation</a></li>
							<li><a href="{{ path('afficherReclamationF') }}">Mes réclamations</a></li>
						</ul>
					</li>
					<li><a href="pricing.html">Evenement</a></li>
					<li><a href="contact.html">Contact</a></li>
          <li><a href="{{ path('chatbot') }}">ChatBot</a></li>
          <li><a href="contact.html">About Us</a></li>
{% endblock %}
{% block body %}

{% endblock %}
{% block rest %}

<div class="breadcrumbs">
  <div class="page-header d-flex align-items-center" style="background-image: url('{{ asset('images/1698797913755.jfif') }}');">
    <div class="container position-relative">
      <div class="row d-flex justify-content-center">
        <div class="col-lg-6 text-center">
          <h2>Reclamation</h2>
          <p>Une réclamation dans une municipalité est comme un signal que vous envoyez à votre mairie, comme un trou dans la route, des poubelles qui débordent, ou un lampadaire cassé. En signalant ces problèmes, vous aidez la mairie à les résoudre et à rendre votre quartier plus agréable pour tout le monde.</p>
        </div>
      </div>
    </div>
  </div>
  <nav>
    <div class="container">
      <ol>
        <li><a href="{{path('app_main_front')}}">Home</a></li>
        <li>Reclamation</li>
      </ol>
    </div>
  </nav>
</div>

<section id="service" class="services pt-0">

    <div class="container aos-init aos-animate" data-aos="fade-up">
        <div class="section-header">
            <span>Mes Réclamations</span>
            <h2>Mes Réclamations</h2>
        </div>
<!-- Image de filtrage -->
<div class="row mb-4">
    <div class="col-lg-12 d-flex justify-content-end align-items-center">
        Filtrer par date :
        <a href="{{ path('filtrerParDate') }}" id="filtre-tous">
            <img src="{{ asset('images/filter.png') }}" alt="Filtrer" class="img-fluid" style="width: 35px; height: 35px;">
        </a>
    </div>
</div>


        <div class="row gy-4">
            {% if reclamations is not empty %}
                {% for reclamation in reclamations %}
                    <div class="col-lg-4 col-md-6 aos-init aos-animate" data-aos="fade-up"
                         data-aos-delay="{{ loop.index * 100 }}">
                        
                            <div class="card">
                                <div class="card-img">
                                <a href="{{ path('detailReclamationF', {'id': reclamation.getIdReclamation()}) }}"
                           class="stretched-link" style="text-decoration: none; color: inherit;">
                                    <img src="{{ asset('uploads/' ~ reclamation.getImageReclamation()) }}" alt=""
                                         class="img-fluid"
                                         style="width: 300px; height: 200px; object-fit: cover;">
                                         {% if reclamation.getStatusReclamation() == 'traité' %}
                                         <img src="{{ asset('images/done.png') }}" alt="Traité" class="traité-badge"
                                              style="position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; ">
                                              {% elseif reclamation.getStatusReclamation() == 'en cours' %}
                                              <img src="{{ asset('images/encours.png') }}" alt="Traité" class="traité-badge"
                                              style="position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; ">                                          
                                             {% elseif reclamation.getStatusReclamation() == 'non traité' %}
                                             <img src="{{ asset('images/cancel.png') }}" alt="Traité" class="traité-badge"
                                             style="position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; ">                                          
                                          {% endif %}
                                </div>
                                <h3>
                                <a href="{{ path('detailReclamationF', {'id': reclamation.getIdReclamation()}) }}"
                                class="stretched-link">{{ reclamation.getSujetReclamation() }}</a> 
                               </h3>
                                <p>{{ reclamation.getDescriptionReclamation() }}</p>
                                
                            </div>
                        </a>
                    </div><!-- End Card Item -->
                {% endfor %}
            {% else %}
                <p>Aucune réclamation trouvée.</p>
            {% endif %}
        </div>
    </div>
    
</section>

<section id="call-to-action">
    <div class="container aos-init aos-animate" data-aos="zoom-out">

      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h3>Contacter un directeur</h3>
          <a class="btn btn-primary" href="{{path('afficherMessagerieF')}}">Contacter</a>
        </div>
      </div>

    </div>
</section>

{% endblock %}